name: cc-start
summary: Start a new feature session and scaffold specs
reads:
  - .specs/project.yml
writes:
  - .specs/features/{slug}/requirements.md
  - .specs/features/{slug}/design.md
  - .specs/features/{slug}/tasks.md
  - .specs/features/{slug}/sessions/{utc_id}/journal.md
  - .specs/project.yml   # update flow.current (feature + session_id, last_task=null, updated_at=now)
  - .specs/index.yml?
prechecks:
  - Ensure slug (lowercase a-z0-9-) and uniqueness
flow:
  - Ask for feature goal and constraints
  - Generate requirements/design/tasks from templates
  - Create new session folder and initialize journal.md
  - Update project.yml.flow.current: { feature, session_id, last_task: null, updated_at: now }
  - Update index.yml (last activity)
confirmations:
  - Confirm generated requirements/design/tasks before writing
rollback:
  - Atomic writes; abort on validation failure

