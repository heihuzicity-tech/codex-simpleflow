name: cc-server
summary: Start/stop/restart/status for services; record runtime state
reads:
  - .specs/project.yml   # read flow.current when feature unspecified
writes:
  - .specs/runtime/serve.json
  - .specs/features/{slug}/sessions/{utc_id}/reports/server-*.log?
prechecks:
  - Detect port occupation and previous PID
flow:
  - Subcommands: start|stop|restart|status (aliases: up|down)
  - Parameters: --name, --cmd, --cwd, --port, --env, --force
  - Persist runtime (pid/port/cmd/status)
confirmations:
  - Starting/stopping external processes; killing ports when --force
rollback:
  - Stop new process if postâ€‘checks fail; restore previous state file

